{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/course-catalog.schema.json",
  "title": "Course Catalog",
  "description": "An array of course documents with details on sections and schedules.",
  "type": "array",
  "items": {
    "type": "object",
    "properties": {
      "code": {
        "type": "string",
        "description": "Course code (e.g., 'COM101')."
      },
      "name": {
        "type": "string",
        "description": "Full name of the course."
      },
      "level": {
        "type": "string",
        "description": "Academic level (e.g., 'Undergraduate')."
      },
      "credits": {
        "type": "number",
        "description": "Credit value of the course (e.g., 3.0)."
      },
      "faculties": {
        "type": "array",
        "items": {
          "type": "string"
        },
        "description": "List of faculty members teaching the course."
      },
      "semester": {
        "type": "string",
        "description": "Semester term (e.g., 'Winter')."
      },
      "year": {
        "type": "integer",
        "description": "Academic year (e.g., 2026)."
      },
      "prerequisite": {
        "type": "string",
        "description": "Prerequisite requirements or instructions."
      },
      "antirequisite": {
        "type": "string",
        "description": "Antirequisite information (often empty)."
      },
      "description": {
        "type": "string",
        "description": "Detailed course description."
      },
      "gerCategory": {
        "oneOf": [{ "type": "string" }, { "type": "null" }],
        "description": "General Education Requirement category (or null if not applicable)."
      },
      "sections": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "sectionId": {
              "type": "string",
              "description": "Identifier for the section (e.g., '1')."
            },
            "quarter": {
              "oneOf": [{ "type": "string" }, { "type": "null" }],
              "description": "Quarter information (or null if not specified)."
            },
            "fiveMinuteBitMask": {
              "type": "string",
              "pattern": "^[01]{2016}$",
              "description": "2016-bit binary string representing combined time slots across the week for all slots in this section. Each bit represents 5 minutes. Week layout: Monday (bits 0-287), Tuesday (288-575), Wednesday (576-863), Thursday (864-1151), Friday (1152-1439), Saturday (1440-1727), Sunday (1728-2015). Bits set to '1' indicate when any slot in this section is active."
            },
            "dateRange": {
              "type": "object",
              "properties": {
                "start": {
                  "type": "string",
                  "format": "date",
                  "description": "Start date in YYYY-MM-DD format."
                },
                "end": {
                  "type": "string",
                  "format": "date",
                  "description": "End date in YYYY-MM-DD format."
                },
                "oneDayBitMask": {
                  "type": "string",
                  "pattern": "^[01]{366}$",
                  "description": "366-bit binary string where each bit represents one day of the academic year (starting from August 1st). Bits set to '1' indicate days when the course is active."
                }
              },
              "required": ["start", "end", "oneDayBitMask"],
              "additionalProperties": false
            },
            "slots": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "day": {
                    "type": "string",
                    "description": "Day of the week (e.g., 'Mon')."
                  },
                  "startTime": {
                    "type": "string",
                    "description": "Start time in HH:MM format (e.g., '08:00')."
                  },
                  "endTime": {
                    "type": "string",
                    "description": "End time in HH:MM format (e.g., '09:30')."
                  }
                },
                "required": ["day", "startTime", "endTime"],
                "additionalProperties": false
              },
              "description": "Schedule slots for the section."
            }
          },
          "required": ["sectionId", "fiveMinuteBitMask", "dateRange", "slots"],
          "additionalProperties": false
        },
        "description": "List of available sections for the course."
      }
    },
    "required": [
      "code",
      "name",
      "level",
      "credits",
      "faculties",
      "semester",
      "year",
      "prerequisite",
      "antirequisite",
      "description",
      "sections"
    ],
    "additionalProperties": false
  }
}
